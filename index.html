<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KBC Style Quiz - CG Special</title>
    <style>
        * {
            box-sizing: border-box;
        }
        body {
            margin: 0;
            font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
            background: radial-gradient(circle at top, #1b2a4a 0, #020617 55%, #000 100%);
            color: #f9fafb;
            min-height: 100vh;
            display: flex;
            align-items: stretch;
            justify-content: center;
        }
        .app-container {
            display: flex;
            width: 100%;
            max-width: 1200px;
            padding: 12px;
            gap: 12px;
        }
        .quiz-main {
            flex: 2;
            background: rgba(15,23,42,0.95);
            border-radius: 16px;
            padding: 16px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.6);
            display: flex;
            flex-direction: column;
            border: 1px solid rgba(148,163,184,0.3);
        }
        .sidebar {
            flex: 1;
            background: rgba(15,23,42,0.95);
            border-radius: 16px;
            padding: 16px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.6);
            border: 1px solid rgba(148,163,184,0.3);
        }
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
            gap: 8px;
        }
        .logo-title {
            font-size: 1.1rem;
            font-weight: 700;
            letter-spacing: 1px;
            text-transform: uppercase;
            color: #fbbf24;
        }
        .header-right {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .status-pill {
            font-size: 0.85rem;
            padding: 4px 8px;
            border-radius: 999px;
            border: 1px solid rgba(148,163,184,0.5);
            display: inline-flex;
            align-items: center;
            gap: 6px;
        }
        .status-dot {
            width: 8px;
            height: 8px;
            border-radius: 999px;
            background: #22c55e;
            box-shadow: 0 0 10px #22c55e;
        }
        .timer {
            font-size: 0.85rem;
            padding: 4px 10px;
            border-radius: 999px;
            border: 1px solid rgba(248,250,252,0.4);
            background: rgba(15,23,42,0.9);
        }
        .question-box {
            margin-top: 8px;
            padding: 14px;
            border-radius: 12px;
            background: radial-gradient(circle at top, #1d253b, #020617);
            border: 1px solid rgba(148,163,184,0.4);
        }
        .question-meta {
            display: flex;
            justify-content: space-between;
            font-size: 0.9rem;
            margin-bottom: 8px;
            color: #e5e7eb;
            gap: 8px;
            flex-wrap: wrap;
        }
        .question-text {
            font-size: 1.05rem;
            font-weight: 600;
            margin-bottom: 8px;
            line-height: 1.5;
        }
        .lifelines {
            margin-top: 6px;
            margin-bottom: 6px;
            display: flex;
            flex-wrap: wrap;
            gap: 6px;
        }
        .lifeline-btn {
            border-radius: 999px;
            padding: 4px 10px;
            font-size: 0.85rem;
            border: 1px solid rgba(148,163,184,0.6);
            background: rgba(15,23,42,0.9);
            color: #e5e7eb;
            cursor: pointer;
        }
        .lifeline-btn.used {
            opacity: 0.5;
            text-decoration: line-through;
            cursor: default;
        }
        .options-grid {
            margin-top: 6px;
            display: grid;
            grid-template-columns: repeat(2, minmax(0,1fr));
            gap: 8px;
        }
        .option-btn {
            border-radius: 999px;
            padding: 8px 10px;
            border: 1px solid rgba(148,163,184,0.5);
            background: rgba(15,23,42,0.9);
            color: #e5e7eb;
            font-size: 0.95rem;
            display: flex;
            align-items: center;
            gap: 6px;
            cursor: pointer;
            transition: all 0.15s ease;
        }
        .option-btn span.label {
            font-weight: 700;
            color: #fbbf24;
            min-width: 20px;
        }
        .option-btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.5);
            border-color: #fbbf24;
        }
        .option-btn.correct {
            background: radial-gradient(circle at top, #166534, #052e16);
            border-color: #22c55e;
            color: #bbf7d0;
        }
        .option-btn.wrong {
            background: radial-gradient(circle at top, #7f1d1d, #450a0a);
            border-color: #ef4444;
            color: #fecaca;
        }
        .option-btn.disabled {
            opacity: 0.7;
            cursor: default;
        }
        .hidden-option {
            visibility: hidden;
        }
        .audience-poll {
            margin-top: 8px;
            border-radius: 10px;
            padding: 6px 8px;
            background: rgba(15,23,42,0.9);
            border: 1px solid rgba(148,163,184,0.6);
            font-size: 0.8rem;
        }
        .poll-row {
            display: flex;
            align-items: center;
            gap: 6px;
            margin-bottom: 4px;
        }
        .poll-bar {
            flex: 1;
            height: 6px;
            border-radius: 999px;
            background: rgba(55,65,81,0.8);
            position: relative;
            overflow: hidden;
        }
        .poll-bar-fill {
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 0;
            background: rgba(250,204,21,0.85);
        }
        .controls {
            margin-top: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 8px;
            flex-wrap: wrap;
        }
        .status-text {
            font-size: 0.9rem;
            min-height: 1.2em;
        }
        .btn {
            border-radius: 999px;
            padding: 6px 14px;
            border: none;
            font-size: 0.9rem;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 6px;
        }
        .btn-primary {
            background: linear-gradient(to right, #f97316, #facc15);
            color: #111827;
            font-weight: 600;
        }
        .btn-secondary {
            background: transparent;
            border: 1px solid rgba(148,163,184,0.6);
            color: #e5e7eb;
        }
        .btn:disabled {
            opacity: 0.5;
            cursor: default;
        }
        .prize-header {
            font-size: 0.95rem;
            font-weight: 600;
            margin-bottom: 8px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            color: #e5e7eb;
        }
        .prize-ladder {
            list-style: none;
            padding: 0;
            margin: 0;
            max-height: calc(100vh - 120px);
            overflow-y: auto;
        }
        .prize-ladder li {
            font-size: 0.9rem;
            padding: 4px 8px;
            border-radius: 999px;
            margin-bottom: 4px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border: 1px solid transparent;
        }
        .prize-ladder li.current {
            border-color: #fbbf24;
            background: rgba(251,191,36,0.15);
            box-shadow: 0 0 12px rgba(251,191,36,0.5);
            color: #fefce8;
        }
        .prize-ladder li.passed {
            color: #9ca3af;
        }
        .prize-ladder li span.level-num {
            font-weight: 700;
            color: #e5e7eb;
            margin-right: 6px;
        }
        .result-box {
            text-align: center;
            margin-top: 16px;
        }
        .result-amount {
            font-size: 1.4rem;
            font-weight: 700;
            color: #fbbf24;
            margin-bottom: 8px;
        }
        .tagline {
            font-size: 0.8rem;
            color: #9ca3af;
            margin-top: 4px;
        }

        @media (max-width: 900px) {
            .app-container {
                flex-direction: column-reverse;
            }
            .sidebar {
                order: 2;
            }
            .quiz-main {
                order: 1;
            }
        }
    </style>
</head>
<body>
<div class="app-container">
    <aside class="sidebar">
        <div class="prize-header">
            <span>‡§™‡•Å‡§∞‡§∏‡•ç‡§ï‡§æ‡§∞ ‡§∏‡•Ä‡§¢‡§º‡•Ä</span>
        </div>
        <ul id="prize-ladder" class="prize-ladder">
            <!-- JS ‡§¶‡•ç‡§µ‡§æ‡§∞‡§æ ‡§≠‡§∞‡§æ ‡§ú‡§æ‡§è‡§ó‡§æ -->
        </ul>
    </aside>

    <main class="quiz-main">
        <div class="header">
            <div class="logo-title">‡§ï‡•å‡§® ‡§¨‡§®‡•á‡§ó‡§æ ‡§ï‡§∞‡•ã‡§°‡§º‡§™‡§§‡§ø ‚Äî ‡§ï‡•ç‡§µ‡§ø‡§ú‡§º</div>
            <div class="header-right">
                <div class="timer" id="timer-display">‚è±Ô∏è 30 ‡§∏‡•á‡§ï‡§Ç‡§°</div>
                <div class="status-pill">
                    <span class="status-dot"></span>
                    <span id="question-counter">Q 1 / 17</span>
                </div>
            </div>
        </div>

        <div class="question-box">
            <div class="question-meta">
                <div>‡§µ‡§∞‡•ç‡§§‡§Æ‡§æ‡§® ‡§™‡•ç‡§∞‡§∂‡•ç‡§®: <strong id="current-prize-label">‚Çπ 1,000</strong></div>
                <div>‡§ú‡•Ä‡§§‡•Ä ‡§π‡•Å‡§à ‡§∞‡§æ‡§∂‡§ø: <span style="font-weight:700;color:#fbbf24;" id="earned-amount">‚Çπ 0</span></div>
            </div>

            <div class="question-text" id="question-text">
                <!-- ‡§™‡•ç‡§∞‡§∂‡•ç‡§® JS ‡§∏‡•á ‡§Ü‡§è‡§ó‡§æ -->
            </div>

            <div class="lifelines">
                <button id="lifeline-5050" class="lifeline-btn">üõü 50 : 50</button>
                <button id="lifeline-poll" class="lifeline-btn">üìä ‡§ë‡§°‡§ø‡§Ø‡§Ç‡§∏ ‡§™‡•ã‡§≤</button>
            </div>

            <div class="options-grid">
                <button class="option-btn" data-index="0">
                    <span class="label">A</span><span class="text"></span>
                </button>
                <button class="option-btn" data-index="1">
                    <span class="label">B</span><span class="text"></span>
                </button>
                <button class="option-btn" data-index="2">
                    <span class="label">C</span><span class="text"></span>
                </button>
                <button class="option-btn" data-index="3">
                    <span class="label">D</span><span class="text"></span>
                </button>
            </div>

            <div id="audience-poll" class="audience-poll" style="display:none;"></div>

            <div class="controls">
                <div class="status-text" id="status-text"></div>
                <div style="display:flex; gap:6px;">
                    <button id="next-btn" class="btn btn-primary" disabled>‡§Ö‡§ó‡§≤‡§æ ‡§™‡•ç‡§∞‡§∂‡•ç‡§® ‚ñ∂</button>
                    <button id="restart-btn" class="btn btn-secondary" style="display:none;">‚Üª ‡§ï‡•ç‡§µ‡§ø‡§ú‡§º ‡§´‡§ø‡§∞ ‡§∂‡•Å‡§∞‡•Ç ‡§ï‡§∞‡•á‡§Ç</button>
                </div>
            </div>

            <div class="result-box" id="result-box" style="display:none;">
                <div class="result-amount" id="result-amount"></div>
                <div id="result-message"></div>
                <div class="tagline">
                </div>
            </div>
        </div>
    </main>
</div>

<script>
    // ------------------ CONFIG HOOK ------------------
    // NOTE: ‡§Ö‡§ó‡§∞ ‡§Ü‡§™ ‡§Ö‡§≤‡§ó JS ‡§´‡§º‡§æ‡§á‡§≤ ‡§∏‡•á ‡§°‡•á‡§ü‡§æ ‡§≤‡•ã‡§° ‡§ï‡§∞‡§®‡§æ ‡§ö‡§æ‡§π‡•á‡§Ç, ‡§§‡•ã ‡§ï‡§ø‡§∏‡•Ä questions_kbc.js ‡§Æ‡•á‡§Ç:
    // window.quizConfig = { questions: [...], prizeLevels: [...] };
    // ‡§î‡§∞ ‡§á‡§∏ HTML ‡§Æ‡•á‡§Ç ‡§â‡§∏ ‡§∏‡•ç‡§ï‡•ç‡§∞‡§ø‡§™‡•ç‡§ü ‡§ï‡•ã ‡§™‡§π‡§≤‡•á include ‡§ï‡§∞ ‡§¶‡•á‡§Ç‡•§
    // ‡§Ö‡§≠‡•Ä ‡§ï‡•á ‡§≤‡§ø‡§è default ‡§°‡•á‡§ü‡§æ ‡§®‡•Ä‡§ö‡•á ‡§∏‡•á‡§ü ‡§ï‡§ø‡§Ø‡§æ ‡§ú‡§æ ‡§∞‡§π‡§æ ‡§π‡•à‡•§

    const defaultQuestions = [
        {
            text: "‡§õ‡§§‡•ç‡§§‡•Ä‡§∏‡§ó‡§¢‡§º ‡§ï‡§æ ‡§ï‡§∂‡•ç‡§Æ‡•Ä‡§∞ ‡§ï‡§ø‡§∏ ‡§ú‡§ø‡§≤‡•á ‡§ï‡•ã ‡§ï‡§π‡§æ ‡§ú‡§æ‡§§‡§æ ‡§π‡•à?",
            options: ["‡§¨‡§∏‡•ç‡§§‡§∞", "‡§®‡§æ‡§∞‡§æ‡§Ø‡§£‡§™‡•Å‡§∞", "‡§∞‡§æ‡§Ø‡§ó‡•ù", "‡§ú‡§∂‡§™‡•Å‡§∞"],
            answer: 3
        },
        {
            text: "‡§ö‡§ø‡§§‡•ç‡§∞‡§ï‡•ã‡§ü ‡§ú‡§≤‡§™‡•ç‡§∞‡§™‡§æ‡§§ ‡§ï‡•Ä ‡§ä‡§Ç‡§ö‡§æ‡§à ‡§ï‡§ø‡§§‡§®‡•Ä ‡§π‡•à?",
            options: ["29 ‡§Æ‡•Ä‡§ü‡§∞", "35 ‡§Æ‡•Ä‡§ü‡§∞", "33 ‡§Æ‡•Ä‡§ü‡§∞", "25 ‡§Æ‡•Ä‡§ü‡§∞"],
            answer: 0
        },
        {
            text: "U-19 ‡§Æ‡§π‡§ø‡§≤‡§æ T20 ‡§ï‡•ç‡§∞‡§ø‡§ï‡•á‡§ü ‡§µ‡§ø‡§∂‡•ç‡§µ‡§ï‡§™ ‡§ï‡•Ä ‡§µ‡§ø‡§ú‡•á‡§§‡§æ ‡§ï‡•å‡§® ‡§∏‡•á ‡§¶‡•á‡§∂ ‡§π‡•à?",
            options: ["‡§®‡•ç‡§Ø‡•Ç‡•õ‡•Ä‡§≤‡•à‡§Ç‡§°", "‡§ë‡§∏‡•ç‡§ü‡•ç‡§∞‡•á‡§≤‡§ø‡§Ø‡§æ", "‡§¶‡§ï‡•ç‡§∑‡§ø‡§£ ‡§Ö‡§´‡•ç‡§∞‡•Ä‡§ï‡§æ", "‡§≠‡§æ‡§∞‡§§"],
            answer: 3
        },
        {
            text: "‡§∂‡§∞‡•Ä‡§∞ ‡§Æ‡•á‡§Ç ‡§Æ‡§æ‡§∞ ‡§ï‡§æ ‡§®‡§ø‡§∂‡§æ‡§® ‡§™‡§°‡§º‡§®‡§æ ‡§ï‡•ã ‡§õ‡§§‡•ç‡§§‡•Ä‡§∏‡§ó‡§¢‡§º‡•Ä ‡§Æ‡•á‡§Ç ‡§ï‡•ç‡§Ø‡§æ ‡§ï‡§π‡§§‡•á ‡§π‡•à‡§Ç?",
            options: ["‡§≤‡•ã‡§∞", "‡§®‡§ø‡§∂‡§æ‡§®", "‡§ö‡§ø‡§π‡•ç‡§®", "‡§õ‡§æ‡§™"],
            answer: 0
        },
        {
            text: "‡§∞‡§æ‡§ú‡•ç‡§Ø ‡§Æ‡•á‡§Ç ‡§™‡§Ç‡§ö‡§æ‡§Ø‡§§ ‡§ö‡•Å‡§®‡§æ‡§µ ‡§ï‡§ø‡§§‡§®‡•á ‡§ö‡§∞‡§£‡•ã‡§Ç ‡§Æ‡•á‡§Ç ‡§∏‡§Ç‡§™‡§®‡•ç‡§® ‡§π‡•Å‡§Ü?",
            options: ["3", "4", "5", "‡§á‡§®‡§Æ‡•á‡§Ç ‡§∏‡•á ‡§ï‡•ã‡§à ‡§®‡§π‡•Ä‡§Ç"],
            answer: 0
        },
        {
            text: "‡§¶‡•á‡§∂ ‡§ï‡§æ ‡§™‡§π‡§≤‡§æ ‡§ü‡•ç‡§∞‡§æ‡§á‡§¨‡§≤ ‡§∞‡§ø‡§∏‡§∞‡•ç‡§ö ‡§™‡§æ‡§∞‡•ç‡§ï ‡§ï‡§π‡§æ‡§Ç ‡§∏‡•ç‡§•‡§æ‡§™‡§ø‡§§ ‡§ï‡§ø‡§Ø‡§æ ‡§ú‡§æ‡§è‡§ó‡§æ?",
            options: ["‡§¨‡•Ä‡§ú‡§æ‡§™‡•Å‡§∞", "‡§ú‡§ó‡§¶‡§≤‡§™‡•Å‡§∞", "‡§ï‡•ã‡§£‡•ç‡§°‡§æ‡§ó‡§æ‡§Ç‡§µ", "‡§¶‡§Ç‡§§‡•á‡§µ‡§æ‡•ú‡§æ"],
            answer: 3
        },
        {
            text: "‡§π‡§æ‡§≤ ‡§π‡•Ä ‡§Æ‡•á‡§Ç ‡§ö‡§∞‡•ç‡§ö‡§ø‡§§ SIR ‡§ï‡§æ ‡§™‡•Ç‡§∞‡•ç‡§£ ‡§∞‡•Ç‡§™ ‡§ï‡•ç‡§Ø‡§æ ‡§π‡•à?",
            options: [
                "‡§∏‡•ç‡§™‡•á‡§∂‡§≤ ‡§á‡§Ç‡§ü‡•á‡§Ç‡§∏‡§ø‡§µ ‡§∞‡§ø‡§µ‡•Ä‡§ú‡§®",
                "‡§∏‡•ç‡§™‡•á‡§∂‡§≤ ‡§á‡§®‡•ç‡§µ‡•á‡§∏‡•ç‡§ü‡§ø‡§ó‡•á‡§∂‡§® ‡§∞‡§ø‡§™‡•ã‡§∞‡•ç‡§ü",
                "‡§∏‡•ç‡§™‡•á‡§∂‡§≤ ‡§á‡§®‡•ç‡§µ‡•á‡§∏‡•ç‡§ü‡§ø‡§µ ‡§∞‡§ø‡§´‡•â‡§∞‡•ç‡§Æ",
                "‡§∏‡•ç‡§™‡•á‡§∂‡§≤ ‡§á‡§®‡•ç‡§´‡•â‡§∞‡•ç‡§Æ‡•á‡§∂‡§® ‡§∞‡§ø‡§µ‡•Ä‡§ú‡§®"
            ],
            answer: 0
        },
        {
            text: "‡§ï‡§æ‡§Ç‡§ó‡•á‡§∞ ‡§ò‡§æ‡§ü‡•Ä ‡§ï‡•ã ‡§∞‡§æ‡§∑‡•ç‡§ü‡•ç‡§∞‡•Ä‡§Ø ‡§â‡§¶‡•ç‡§Ø‡§æ‡§® ‡§ï‡§æ ‡§¶‡§∞‡•ç‡§ú‡§æ ‡§ï‡§¨ ‡§™‡•ç‡§∞‡§æ‡§™‡•ç‡§§ ‡§π‡•Å‡§Ü?",
            options: ["1978", "1986", "1982", "1980"],
            answer: 2
        },
        {
            text: "‡§∞‡§æ‡§∑‡•ç‡§ü‡•ç‡§∞‡§™‡§§‡§ø ‡§¶‡•ç‡§∞‡•å‡§™‡§¶‡•Ä ‡§Æ‡•Å‡§∞‡•ç‡§Æ‡•Ç ‡§ú‡•Ä ‡§¶‡•ç‡§µ‡§æ‡§∞‡§æ ‡§ï‡§ø‡§∏ ‡§ú‡§®‡§ú‡§æ‡§§‡§ø ‡§ï‡•ã ‡§¶‡§§‡•ç‡§§‡§ï ‡§™‡•Å‡§§‡•ç‡§∞ ‡§ï‡§æ ‡§¶‡§∞‡•ç‡§ú‡§æ ‡§¶‡§ø‡§Ø‡§æ ‡§ó‡§Ø‡§æ?",
            options: ["‡§™‡§£‡•ç‡§°‡•ã ‡§ú‡§®‡§ú‡§æ‡§§‡§ø", "‡§≠‡§æ‡§∞‡§ø‡§Ø‡§æ ‡§ú‡§®‡§ú‡§æ‡§§‡§ø", "‡§¨‡§ø‡§∞‡§π‡•ã‡§∞ ‡§ú‡§®‡§ú‡§æ‡§§‡§ø", "‡§™‡§∞‡§ú‡§æ ‡§ú‡§®‡§ú‡§æ‡§§‡§ø"],
            answer: 0
        },
        {
            text: "‡§õ‡§§‡•ç‡§§‡•Ä‡§∏‡§ó‡§¢‡§º ‡§∞‡§æ‡§ú‡•ç‡§Ø ‡§¶‡•á‡§∂ ‡§ï‡•á ‡§ï‡•Å‡§≤ ‡§ü‡•Ä‡§® ‡§≠‡§Ç‡§°‡§æ‡§∞ ‡§ï‡§æ ‡§ï‡§ø‡§§‡§®‡•á ‡§™‡•ç‡§∞‡§§‡§ø‡§∂‡§§ ‡§Ø‡•ã‡§ó‡§¶‡§æ‡§® ‡§ï‡§∞‡§§‡§æ ‡§π‡•à?",
            options: ["43.5%", "28.3%", "35.4%", "50%"],
            answer: 2
        },
        {
            text: "‡§∂‡•ç‡§∞‡•Ä ‡§µ‡§ø‡§®‡•ã‡§¶ ‡§ï‡•Å‡§Æ‡§æ‡§∞ ‡§∂‡•Å‡§ï‡•ç‡§≤ ‡§ú‡•Ä ‡§ï‡•ã ‡§µ‡§∞‡•ç‡§∑ 2024 ‡§ï‡§æ ‡§ú‡•ç‡§û‡§æ‡§®‡§™‡•Ä‡§† ‡§™‡•Å‡§∞‡§∏‡•ç‡§ï‡§æ‡§∞ ‡§™‡•ç‡§∞‡§¶‡§æ‡§® ‡§ï‡§ø‡§Ø‡§æ ‡§ú‡§æ‡§è‡§ó‡§æ, ‡§Ø‡§π ‡§ï‡•å‡§® ‡§∏‡•á ‡§ï‡•ç‡§∞‡§Æ ‡§ï‡§æ ‡§π‡•ã‡§ó‡§æ?",
            options: ["58‡§µ‡§æ‡§Å", "59‡§µ‡§æ‡§Å", "57‡§µ‡§æ‡§Å", "60‡§µ‡§æ‡§Å"],
            answer: 1
        },
        {
            text: "‡§ó‡•ã‡§Ç‡§°‡§µ‡§æ‡§®‡§æ ‡§Æ‡§∞‡•Ä‡§® ‡§´‡•â‡§∏‡§ø‡§≤‡•ç‡§∏ ‡§™‡§æ‡§∞‡•ç‡§ï ‡§ï‡•á ‡§∏‡§Ç‡§¨‡§Ç‡§ß ‡§Æ‡•á‡§Ç ‡§ï‡•ç‡§Ø‡§æ ‡§ó‡§≤‡§§ ‡§π‡•à?",
            options: [
                "‡§á‡§∏‡•á ‡§≠‡§æ‡§∞‡§§ ‡§ï‡§æ ‡§™‡•ç‡§∞‡§•‡§Æ ‡§∞‡§æ‡§∑‡•ç‡§ü‡•ç‡§∞‡•Ä‡§Ø ‡§≠‡•Ç‡§µ‡•à‡§ú‡•ç‡§û‡§æ‡§®‡§ø‡§ï ‡§∏‡•ç‡§Æ‡§æ‡§∞‡§ï ‡§ï‡§æ ‡§¶‡§∞‡•ç‡§ú‡§æ ‡§™‡•ç‡§∞‡§æ‡§™‡•ç‡§§ ‡§π‡•à‡•§",
                "‡§á‡§∏‡§ï‡•Ä ‡§ñ‡•ã‡§ú ‡§è‡§∏ ‡§ï‡•á ‡§ò‡•ã‡§∑ ‡§®‡•á ‡§µ‡§∞‡•ç‡§∑ 1954 ‡§Æ‡•á‡§Ç ‡§ï‡•Ä ‡§•‡•Ä‡•§",
                "‡§Ø‡§π ‡§π‡§∏‡§¶‡•á‡§µ ‡§®‡§¶‡•Ä ‡§§‡§ü ‡§™‡§∞ ‡§Æ‡§®‡•á‡§Ç‡§¶‡•ç‡§∞‡§ó‡•ù ‡§ö‡§ø‡§∞‡§Æ‡§ø‡§∞‡•Ä ‡§≠‡§∞‡§§‡§™‡•Å‡§∞ ‡§ú‡§ø‡§≤‡•á ‡§Æ‡•á‡§Ç ‡§∏‡•ç‡§•‡§ø‡§§ ‡§π‡•à‡•§",
                "‡§Ø‡§π ‡§è‡§∂‡§ø‡§Ø‡§æ ‡§Æ‡§π‡§æ‡§¶‡•ç‡§µ‡•Ä‡§™ ‡§ï‡§æ ‡§∏‡§¨‡§∏‡•á ‡§õ‡•ã‡§ü‡§æ ‡§∏‡§Æ‡•Å‡§¶‡•ç‡§∞‡•Ä ‡§ú‡•Ä‡§µ‡§æ‡§∂‡•ç‡§Æ ‡§™‡§æ‡§∞‡•ç‡§ï ‡§π‡•à‡•§"
            ],
            answer: 3
        },
        {
            text: "GATI ‡§ï‡•á ‡§ö‡§æ‡§∞ ‡§∏‡•ç‡§§‡§Ç‡§≠‡•ã‡§Ç ‡§Æ‡•á‡§Ç ‡§∂‡§æ‡§Æ‡§ø‡§≤ ‡§π‡•à: 1. ‡§ó‡•Å‡§° ‡§ó‡§µ‡§∞‡•ç‡§®‡•á‡§Ç‡§∏ 2. ‡§è‡§ï‡•ç‡§∏‡•Ä‡§≤‡§∞‡•á‡§ü‡§ø‡§Ç‡§ó ‡§á‡§Ç‡§´‡•ç‡§∞‡§æ‡§∏‡•ç‡§ü‡•ç‡§∞‡§ï‡•ç‡§ö‡§∞ 3. ‡§ü‡•á‡§ï‡•ç‡§®‡•ã‡§≤‡•â‡§ú‡•Ä 4. ‡§á‡§Ç‡§°‡§∏‡•ç‡§ü‡•ç‡§∞‡§ø‡§Ø‡§≤ ‡§ó‡•ç‡§∞‡•ã‡§• 5. ‡§Ö‡§®‡•ç‡§®‡§¶‡§æ‡§§‡§æ 6. ‡§ó‡§∞‡•Ä‡§¨",
            options: [
                "1, 2, 3 ‡§î‡§∞ 6",
                "3, 4, 5 ‡§î‡§∞ 6",
                "1, 2, 3 ‡§î‡§∞ 4",
                "2, 3, 4 ‡§î‡§∞ 6"
            ],
            answer: 2
        },
        {
            text: "‡§ï‡§•‡§® 1. ‡§°‡•ã‡§Ç‡§ó‡§∞‡§ó‡§¢‡§º ‡§ï‡•Ä ‡§™‡§π‡§æ‡§°‡§º‡•Ä ‡§Æ‡•á‡§Ç ‡§Æ‡§æ‡§Ç ‡§¨‡§Æ‡•ç‡§≤‡•á‡§∂‡•ç‡§µ‡§∞‡•Ä ‡§µ‡§ø‡§∞‡§æ‡§ú‡§Æ‡§æ‡§® ‡§π‡•à‡•§ 2. ‡§™‡•ç‡§∞‡§ú‡•ç‡§û‡§æ‡§ó‡§ø‡§∞‡•Ä ‡§™‡§π‡§æ‡§°‡§º‡•Ä ‡§ú‡•à‡§® ‡§ß‡§∞‡•ç‡§Æ ‡§∏‡•á ‡§∏‡§Ç‡§¨‡§Ç‡§ß‡§ø‡§§ ‡§π‡•à‡•§ 3. ‡§ö‡§Ç‡§¶‡•ç‡§∞‡§ó‡§ø‡§∞‡•Ä ‡§™‡§π‡§æ‡§°‡§º‡•Ä ‡§¨‡•å‡§¶‡•ç‡§ß ‡§ß‡§∞‡•ç‡§Æ ‡§∏‡•á ‡§∏‡§Ç‡§¨‡§Ç‡§ß‡§ø‡§§ ‡§π‡•à‡•§",
            options: [
                "‡§ï‡§•‡§® 2 ‡§î‡§∞ 3 ‡§∏‡§§‡•ç‡§Ø ‡§π‡•à",
                "‡§ï‡§•‡§® 1 ‡§î‡§∞ 3 ‡§∏‡§§‡•ç‡§Ø ‡§π‡•à",
                "‡§ï‡•á‡§µ‡§≤ ‡§ï‡§•‡§® 1 ‡§∏‡§§‡•ç‡§Ø ‡§π‡•à",
                "‡§§‡•Ä‡§®‡•ã‡§Ç ‡§ï‡§•‡§® ‡§∏‡§§‡•ç‡§Ø ‡§π‡•à"
            ],
            answer: 2
        },
        {
            text: "‡§™‡•ç‡§∞‡§Æ‡•Å‡§ñ ‡§¶‡§∞‡•ç‡§∞‡•á ‡§è‡§µ‡§Ç ‡§â‡§®‡§ï‡•á ‡§∞‡§æ‡§ú‡•ç‡§Ø ‡§Ö‡§∏‡•Å‡§Æ‡•á‡§≤‡§ø‡§§ ‡§ï‡•Ä ‡§™‡§π‡§ö‡§æ‡§® ‡§ï‡§∞‡•á‡§Ç:",
            options: [
                "‡§≤‡§ø‡§™‡•Å‡§≤‡•á‡§ñ - ‡§â‡§§‡•ç‡§§‡§∞‡§æ‡§ñ‡§Ç‡§°",
                "‡§®‡§æ‡§ï‡•Å ‡§≤‡§æ - ‡§∏‡§ø‡§ï‡•ç‡§ï‡§ø‡§Æ",
                "‡§∏‡•á‡§≤‡§æ - ‡§Ö‡§∏‡§Æ",
                "‡§∏‡§ø‡§Ø‡§æ ‡§≤‡§æ - ‡§≤‡§¶‡•ç‡§¶‡§æ‡§ñ"
            ],
            answer: 2
        },
        {
            text: "‡§ó‡•Å‡§∞‡•Å ‡§§‡•á‡§ó‡§¨‡§π‡§æ‡§¶‡•Å‡§∞ ‡§ï‡•á ‡§∏‡§Ç‡§¶‡§∞‡•ç‡§≠ ‡§Æ‡•á‡§Ç ‡§Ö‡§∏‡§§‡•ç‡§Ø ‡§ï‡§•‡§® ‡§ï‡•Ä ‡§™‡§π‡§ö‡§æ‡§® ‡§ï‡§∞‡•á‡§Ç:",
            options: [
                "‡§∏‡§ø‡§ñ ‡§ß‡§∞‡•ç‡§Æ ‡§ï‡•á 8‡§µ‡•á‡§Ç ‡§ó‡•Å‡§∞‡•Å ‡§•‡•á",
                "‡§á‡§®‡§ï‡•Ä ‡§ú‡§Ø‡§Ç‡§§‡•Ä ‡§ï‡•á ‡§Ö‡§µ‡§∏‡§∞ ‡§™‡§∞ ‡§™‡•ç‡§∞‡§ï‡§æ‡§∂ ‡§™‡§∞‡•ç‡§µ ‡§Æ‡§®‡§æ‡§Ø‡§æ ‡§ú‡§æ‡§§‡§æ ‡§π‡•à‡•§",
                "‡§î‡§∞‡§Ç‡§ó‡§ú‡•á‡§¨ ‡§®‡•á ‡§á‡§®‡•ç‡§π‡•á‡§Ç ‡§´‡§æ‡§Ç‡§∏‡•Ä ‡§ï‡•Ä ‡§∏‡§ú‡§æ ‡§¶‡•Ä‡•§",
                "‡§π‡§ø‡§Ç‡§¶ ‡§ï‡•Ä ‡§ö‡§æ‡§¶‡§∞ ‡§Ø‡§æ‡§®‡•Ä ‡§π‡§ø‡§Ç‡§¶ ‡§∞‡§ï‡•ç‡§∑‡§ï ‡§ï‡•Ä ‡§â‡§™‡§æ‡§ß‡§ø ‡§™‡•ç‡§∞‡§æ‡§™‡•ç‡§§ ‡§π‡•à‡•§"
            ],
            answer: 0
        },
        {
            text: "‡§Ø‡§π‡§æ‡§Ç ‡§è‡§ï ‡§ó‡•Å‡§´‡§æ ‡§π‡•à ‡§ú‡§ø‡§∏‡•á ‡§ú‡•ã‡§ó‡•Ä ‡§ó‡•Å‡§´‡§æ ‡§ï‡§π‡§§‡•á ‡§π‡•à‡§Ç‡•§ ‡§∏‡§æ‡§• ‡§Æ‡•á‡§Ç ‡§¶‡•Ä‡§µ‡§æ‡§® ‡§§‡§æ‡§≤‡§æ‡§¨, ‡§ú‡§ø‡§∏‡§ï‡•á ‡§™‡§æ‡§∏ ‡§∏‡•ç‡§•‡§ø‡§§ ‡§Æ‡§Ç‡§¶‡§ø‡§∞ ‡§Æ‡•á‡§Ç 1320 ‡§à‡§∏‡•ç‡§µ‡•Ä ‡§ï‡§æ ‡§∂‡§ø‡§≤‡§æ‡§≤‡•á‡§ñ ‡§π‡•à, ‡§ú‡§ø‡§∏‡§Æ‡•á‡§Ç ‡§∞‡§æ‡§ú‡§æ ‡§≠‡§æ‡§®‡•Å‡§¶‡•á‡§µ ‡§Ö‡§™‡§®‡•á ‡§™‡•ç‡§∞‡§ß‡§æ‡§®‡§Æ‡§Ç‡§§‡•ç‡§∞‡•Ä ‡§ï‡•Ä ‡§™‡•ç‡§∞‡§∂‡§Ç‡§∏‡§æ ‡§ï‡§∞ ‡§∞‡§π‡•á ‡§π‡•à‡§Ç‡•§ ‡§Ø‡§π ‡§ï‡§π‡§æ‡§Ç ‡§∏‡•ç‡§•‡§ø‡§§ ‡§π‡•à?",
            options: ["‡§ñ‡•à‡§∞‡§æ‡§ó‡•ù", "‡§ï‡§¨‡•Ä‡§∞‡§ß‡§æ‡§Æ", "‡§ï‡•ã‡§∞‡§¨‡§æ", "‡§ï‡§æ‡§Ç‡§ï‡•á‡§∞"],
            answer: 3
        }
    ];

    const defaultPrizeLevels = [
        "‚Çπ 1,000",
        "‚Çπ 2,000",
        "‚Çπ 5,000",
        "‚Çπ 10,000",
        "‚Çπ 20,000",
        "‚Çπ 50,000",
        "‚Çπ 1,00,000",
        "‚Çπ 2,00,000",
        "‚Çπ 5,00,000",
        "‚Çπ 10,00,000",
        "‚Çπ 20,00,000",
        "‚Çπ 25,00,000", // 12‡§µ‡§æ‡§Å ‡§∏‡•ç‡§§‡§∞ (‡§Ü‡§™ ‡§ö‡§æ‡§π‡•á‡§Ç ‡§§‡•ã ‡§¨‡§¶‡§≤ ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç)
        "‚Çπ 50,00,000",
        "‚Çπ 1,00,00,000",
        "‚Çπ 2,00,00,000",
        "‚Çπ 5,00,00,000",
        "‚Çπ 7,00,00,000"
    ];

    const quizConfig = window.quizConfig || {
        questions: defaultQuestions,
        prizeLevels: defaultPrizeLevels
    };

    const questions = quizConfig.questions;
    const prizeLevels = quizConfig.prizeLevels;

    // ------------------ TIMER SETTINGS ------------------
    const timePerQuestion = 30; // seconds (‡§á‡§∏‡•á ‡§¨‡§¶‡§≤ ‡§ï‡§∞ ‡§ü‡§æ‡§á‡§Æ ‡§≤‡§ø‡§Æ‡§ø‡§ü ‡§¨‡§¶‡§≤ ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç)
    let timeLeft = timePerQuestion;
    let timerId = null;

    // ------------------ AUDIO (‡§¨‡•á‡§π‡§§‡§∞ ‡§∏‡§π‡•Ä ‡§â‡§§‡•ç‡§§‡§∞ ‡§∏‡§æ‡§â‡§Ç‡§°) ------------------
    let audioCtx = null;
    function initAudioContext() {
        if (!audioCtx) {
            const AudioContext = window.AudioContext || window.webkitAudioContext;
            if (AudioContext) {
                audioCtx = new AudioContext();
            }
        }
    }

    function playBeep(type) {
        initAudioContext();
        if (!audioCtx) return;

        if (type === "correct") {
            // ‡§•‡•ã‡§°‡§º‡§æ ‡§Ö‡§ö‡•ç‡§õ‡§æ ‡§∏‡§æ ‡§ú‡•Ä‡§§ ‡§µ‡§æ‡§≤‡§æ ‡§§‡•Ä‡§® ‡§®‡•ã‡§ü ‡§ï‡§æ ‡§ü‡•ç‡§Ø‡•Ç‡§®
            const now = audioCtx.currentTime;
            const freqs = [523, 659, 784]; // C5, E5, G5
            freqs.forEach((freq, idx) => {
                const osc = audioCtx.createOscillator();
                const gain = audioCtx.createGain();
                osc.type = "sine";
                osc.frequency.setValueAtTime(freq, now + idx * 0.18);
                gain.gain.setValueAtTime(0.001, now + idx * 0.18);
                gain.gain.exponentialRampToValueAtTime(0.4, now + idx * 0.18 + 0.02);
                gain.gain.exponentialRampToValueAtTime(0.001, now + idx * 0.18 + 0.16);
                osc.connect(gain);
                gain.connect(audioCtx.destination);
                osc.start(now + idx * 0.18);
                osc.stop(now + idx * 0.18 + 0.18);
            });
            return;
        }

        // ‡§ó‡§≤‡§§ ‡§â‡§§‡•ç‡§§‡§∞ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ó‡§ø‡§∞‡§§‡§æ ‡§π‡•Å‡§Ü ‡§ü‡•ã‡§®
        const duration = 0.6;
        const freqStart = 220;
        const freqEnd = 110;

        const osc = audioCtx.createOscillator();
        const gain = audioCtx.createGain();

        osc.type = "square";
        osc.frequency.setValueAtTime(freqStart, audioCtx.currentTime);
        osc.frequency.linearRampToValueAtTime(freqEnd, audioCtx.currentTime + duration);

        gain.gain.setValueAtTime(0.001, audioCtx.currentTime);
        gain.gain.exponentialRampToValueAtTime(0.4, audioCtx.currentTime + 0.02);
        gain.gain.exponentialRampToValueAtTime(0.001, audioCtx.currentTime + duration);

        osc.connect(gain);
        gain.connect(audioCtx.destination);
        osc.start();
        osc.stop(audioCtx.currentTime + duration);
    }

    // ------------------ DOM ELEMENTS ------------------
    const questionTextEl = document.getElementById("question-text");
    const optionButtons = Array.from(document.querySelectorAll(".option-btn"));
    const statusTextEl = document.getElementById("status-text");
    const questionCounterEl = document.getElementById("question-counter");
    const currentPrizeLabelEl = document.getElementById("current-prize-label");
    const earnedAmountEl = document.getElementById("earned-amount");
    const nextBtn = document.getElementById("next-btn");
    const restartBtn = document.getElementById("restart-btn");
    const prizeLadderEl = document.getElementById("prize-ladder");
    const resultBoxEl = document.getElementById("result-box");
    const resultAmountEl = document.getElementById("result-amount");
    const resultMessageEl = document.getElementById("result-message");
    const timerDisplayEl = document.getElementById("timer-display");
    const lifeline5050Btn = document.getElementById("lifeline-5050");
    const lifelinePollBtn = document.getElementById("lifeline-poll");
    const audiencePollEl = document.getElementById("audience-poll");

    // ------------------ STATE ------------------
    let currentIndex = 0;
    let earnedAmount = "‚Çπ 0";
    let gameOver = false;
    let locked = false;
    let lifelinesUsed = {
        fifty: false,
        poll: false
    };

    // ------------------ HELPER ------------------
    function shuffle(arr) {
        for (let i = arr.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [arr[i], arr[j]] = [arr[j], arr[i]];
        }
    }

    function renderPrizeLadder() {
        prizeLadderEl.innerHTML = "";
        for (let i = prizeLevels.length - 1; i >= 0; i--) {
            const li = document.createElement("li");
            li.dataset.index = i.toString();

            const leftSpan = document.createElement("span");
            leftSpan.className = "level-num";
            leftSpan.textContent = (i + 1) + ".";

            const rightSpan = document.createElement("span");
            rightSpan.textContent = prizeLevels[i];

            li.appendChild(leftSpan);
            li.appendChild(rightSpan);
            prizeLadderEl.appendChild(li);
        }
    }

    function updatePrizeHighlight() {
        const items = prizeLadderEl.querySelectorAll("li");
        items.forEach(li => {
            const idx = parseInt(li.dataset.index, 10);
            li.classList.toggle("current", idx === currentIndex);
            li.classList.toggle("passed", idx < currentIndex);
        });
    }

    function updateTimerDisplay() {
        timerDisplayEl.textContent = "‚è±Ô∏è " + timeLeft + " ‡§∏‡•á‡§ï‡§Ç‡§°";
    }

    function startTimer() {
        clearInterval(timerId);
        timeLeft = timePerQuestion;
        updateTimerDisplay();
        timerId = setInterval(() => {
            if (gameOver || locked) {
                clearInterval(timerId);
                return;
            }
            timeLeft--;
            if (timeLeft < 0) timeLeft = 0;
            updateTimerDisplay();
            if (timeLeft <= 0) {
                clearInterval(timerId);
                handleTimeUp();
            }
        }, 1000);
    }

    function loadQuestion() {
        const q = questions[currentIndex];
        questionTextEl.textContent = q.text;
        optionButtons.forEach((btn, i) => {
            btn.classList.remove("correct", "wrong", "disabled", "hidden-option");
            btn.querySelector(".text").textContent = q.options[i];
        });
        audiencePollEl.style.display = "none";
        audiencePollEl.innerHTML = "";

        locked = false;
        statusTextEl.textContent = "‡§Ö‡§™‡§®‡§æ ‡§â‡§§‡•ç‡§§‡§∞ ‡§ö‡•Å‡§®‡§ø‡§è‚Ä¶";
        nextBtn.disabled = true;
        nextBtn.textContent = currentIndex === questions.length - 1 ? "‡§™‡§∞‡§ø‡§£‡§æ‡§Æ ‡§¶‡•á‡§ñ‡•á‡§Ç ‚ñ∂" : "‡§Ö‡§ó‡§≤‡§æ ‡§™‡•ç‡§∞‡§∂‡•ç‡§® ‚ñ∂";
        questionCounterEl.textContent = "Q " + (currentIndex + 1) + " / " + questions.length;
        currentPrizeLabelEl.textContent = prizeLevels[currentIndex];
        updatePrizeHighlight();
        resultBoxEl.style.display = "none";

        startTimer();
    }

    function showResult(finalAmount, message) {
        gameOver = true;
        resultBoxEl.style.display = "block";
        resultAmountEl.textContent = finalAmount;
        resultMessageEl.textContent = message;
        restartBtn.style.display = "inline-flex";
        nextBtn.disabled = true;
    }

    function handleTimeUp() {
        if (locked || gameOver) return;
        locked = true;
        const q = questions[currentIndex];
        const correctIndex = q.answer;

        optionButtons.forEach((btn, i) => {
            btn.classList.add("disabled");
            if (i === correctIndex) {
                btn.classList.add("correct");
            }
        });

        playBeep("wrong");
        const safeAmount = currentIndex === 0 ? "‚Çπ 0" : prizeLevels[currentIndex - 1];
        statusTextEl.textContent = "‚è∞ ‡§∏‡§Æ‡§Ø ‡§∏‡§Æ‡§æ‡§™‡•ç‡§§! ‡§ó‡§≤‡§§ ‡§â‡§§‡•ç‡§§‡§∞ ‡§Æ‡§æ‡§®‡§æ ‡§ú‡§æ‡§è‡§ó‡§æ‡•§";
        showResult(
            safeAmount,
            "‡§∏‡§Æ‡§Ø ‡§∏‡§Æ‡§æ‡§™‡•ç‡§§ ‡§π‡•ã‡§®‡•á ‡§ï‡•á ‡§ï‡§æ‡§∞‡§£ ‡§ó‡•á‡§Æ ‡§∏‡§Æ‡§æ‡§™‡•ç‡§§‡•§ ‡§Ü‡§™‡§®‡•á ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§ø‡§§ ‡§∞‡§æ‡§∂‡§ø ‡§ï‡•á ‡§∞‡•Ç‡§™ ‡§Æ‡•á‡§Ç " + safeAmount + " ‡§ú‡•Ä‡§§‡•Ä ‡§π‡•à‡•§"
        );
    }

    function handleOptionClick(index) {
        if (locked || gameOver) return;
        const btn = optionButtons[index];
        if (btn.classList.contains("disabled") || btn.classList.contains("hidden-option")) return;

        locked = true;
        clearInterval(timerId);

        const q = questions[currentIndex];
        const correctIndex = q.answer;

        optionButtons.forEach((b, i) => {
            b.classList.add("disabled");
            if (i === correctIndex) {
                b.classList.add("correct");
            }
        });

        if (index === correctIndex) {
            playBeep("correct");
            earnedAmount = prizeLevels[currentIndex];
            earnedAmountEl.textContent = earnedAmount;
            statusTextEl.textContent = "‚úÖ ‡§∏‡§π‡•Ä ‡§ú‡§µ‡§æ‡§¨!";
            if (currentIndex === questions.length - 1) {
                showResult(earnedAmount, "‡§¨‡§π‡•Å‡§§-‡§¨‡§π‡•Å‡§§ ‡§¨‡§ß‡§æ‡§à! ‡§Ü‡§™‡§®‡•á ‡§∏‡§≠‡•Ä 17 ‡§™‡•ç‡§∞‡§∂‡•ç‡§®‡•ã‡§Ç ‡§ï‡•á ‡§∏‡§π‡•Ä ‡§â‡§§‡•ç‡§§‡§∞ ‡§¶‡§ø‡§è‡•§");
            } else {
                nextBtn.disabled = false;
            }
        } else {
            optionButtons[index].classList.add("wrong");
            playBeep("wrong");
            const safeAmount = currentIndex === 0 ? "‚Çπ 0" : prizeLevels[currentIndex - 1];
            statusTextEl.textContent = "‚ùå ‡§ó‡§≤‡§§ ‡§ú‡§µ‡§æ‡§¨!";
            showResult(
                safeAmount,
                "‡§ó‡§≤‡§§ ‡§â‡§§‡•ç‡§§‡§∞ ‡§ï‡•á ‡§ï‡§æ‡§∞‡§£ ‡§ó‡•á‡§Æ ‡§∏‡§Æ‡§æ‡§™‡•ç‡§§‡•§ ‡§Ü‡§™‡§®‡•á ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§ø‡§§ ‡§∞‡§æ‡§∂‡§ø ‡§ï‡•á ‡§∞‡•Ç‡§™ ‡§Æ‡•á‡§Ç " + safeAmount + " ‡§ú‡•Ä‡§§‡•Ä ‡§π‡•à‡•§"
            );
        }
    }

    function goToNextQuestion() {
        if (gameOver) return;
        if (currentIndex < questions.length - 1) {
            currentIndex++;
            loadQuestion();
        } else {
            showResult(earnedAmount, "‡§ï‡•ç‡§µ‡§ø‡§ú‡§º ‡§∏‡§Æ‡§æ‡§™‡•ç‡§§!");
        }
    }

    function restartQuiz() {
        currentIndex = 0;
        earnedAmount = "‚Çπ 0";
        earnedAmountEl.textContent = earnedAmount;
        gameOver = false;
        locked = false;
        lifelinesUsed = { fifty: false, poll: false };

        lifeline5050Btn.classList.remove("used");
        lifeline5050Btn.disabled = false;
        lifelinePollBtn.classList.remove("used");
        lifelinePollBtn.disabled = false;

        audiencePollEl.style.display = "none";
        audiencePollEl.innerHTML = "";

        optionButtons.forEach(btn => {
            btn.classList.remove("correct", "wrong", "disabled", "hidden-option");
        });

        restartBtn.style.display = "none";
        clearInterval(timerId);
        loadQuestion();
    }

    // ------------------ LIFELINES ------------------
    function use5050() {
        if (lifelinesUsed.fifty || gameOver || locked) return;
        lifelinesUsed.fifty = true;
        lifeline5050Btn.classList.add("used");
        lifeline5050Btn.disabled = true;

        const q = questions[currentIndex];
        const correct = q.answer;
        const wrongIndices = [0, 1, 2, 3].filter(i => i !== correct);
        shuffle(wrongIndices);
        const toHide = wrongIndices.slice(0, 2);

        optionButtons.forEach((btn, i) => {
            if (toHide.includes(i)) {
                btn.classList.add("hidden-option");
                btn.classList.add("disabled");
            }
        });

        statusTextEl.textContent = "üõü 50:50 ‡§≤‡§æ‡§á‡§´‡§≤‡§æ‡§á‡§® ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡•Ä ‡§ó‡§à‡•§ ‡§¶‡•ã ‡§ó‡§≤‡§§ ‡§µ‡§ø‡§ï‡§≤‡•ç‡§™ ‡§π‡§ü‡§æ ‡§¶‡§ø‡§è ‡§ó‡§è ‡§π‡•à‡§Ç‡•§";
    }

    function useAudiencePoll() {
        if (lifelinesUsed.poll || gameOver) return;
        lifelinesUsed.poll = true;
        lifelinePollBtn.classList.add("used");
        lifelinePollBtn.disabled = true;

        const q = questions[currentIndex];
        const correct = q.answer;
        const percents = [0, 0, 0, 0];

        let correctPercent = 50 + Math.floor(Math.random() * 21) - 10; // 40-60 ‡§ï‡•á ‡§¨‡•Ä‡§ö
        if (correctPercent < 35) correctPercent = 35;
        if (correctPercent > 70) correctPercent = 70;
        percents[correct] = correctPercent;

        let remaining = 100 - correctPercent;
        const wrongs = [0, 1, 2, 3].filter(i => i !== correct);
        wrongs.forEach((idx, i) => {
            if (i === wrongs.length - 1) {
                percents[idx] = remaining;
            } else {
                const max = remaining - (wrongs.length - i - 1);
                const val = Math.max(1, Math.floor(Math.random() * max));
                percents[idx] = val;
                remaining -= val;
            }
        });

        audiencePollEl.innerHTML = "";
        const labels = ["A", "B", "C", "D"];
        percents.forEach((p, i) => {
            const row = document.createElement("div");
            row.className = "poll-row";

            const labelSpan = document.createElement("span");
            labelSpan.textContent = labels[i] + ":";

            const bar = document.createElement("div");
            bar.className = "poll-bar";

            const fill = document.createElement("div");
            fill.className = "poll-bar-fill";
            fill.style.width = p + "%";

            bar.appendChild(fill);

            const valSpan = document.createElement("span");
            valSpan.textContent = p + "%";

            row.appendChild(labelSpan);
            row.appendChild(bar);
            row.appendChild(valSpan);

            audiencePollEl.appendChild(row);
        });

        audiencePollEl.style.display = "block";
        statusTextEl.textContent = "üìä ‡§ë‡§°‡§ø‡§Ø‡§Ç‡§∏ ‡§™‡•ã‡§≤ ‡§ï‡§æ ‡§™‡§∞‡§ø‡§£‡§æ‡§Æ ‡§ä‡§™‡§∞ ‡§¶‡§ø‡§ñ ‡§∞‡§π‡§æ ‡§π‡•à‡•§";
    }

    // ------------------ EVENT LISTENERS ------------------
    optionButtons.forEach(btn => {
        btn.addEventListener("click", () => {
            const index = parseInt(btn.dataset.index, 10);
            handleOptionClick(index);
        });
    });

    nextBtn.addEventListener("click", goToNextQuestion);
    restartBtn.addEventListener("click", restartQuiz);
    lifeline5050Btn.addEventListener("click", use5050);
    lifelinePollBtn.addEventListener("click", useAudiencePoll);

    // ------------------ INIT ------------------
    renderPrizeLadder();
    updatePrizeHighlight();
    loadQuestion();
</script>
</body>
</html>